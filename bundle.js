!function(t){var e={};function A(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,A),n.l=!0,n.exports}A.m=t,A.c=e,A.d=function(t,e,i){A.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},A.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},A.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return A.d(e,"a",e),e},A.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},A.p="",A(A.s=9)}([function(t,e){t.exports={Always:1,Never:2,IfAtMostOneObstacle:3,OnlyWhenNoObstacles:4}},function(t,e){function A(t){for(var e=[[t.x,t.y]];t.parent;)t=t.parent,e.push([t.x,t.y]);return e.reverse()}function i(t,e,A,i){var n,r,s,o,a,l,h=Math.abs,u=[];for(s=h(A-t),o=h(i-e),n=t<A?1:-1,r=e<i?1:-1,a=s-o;u.push([t,e]),t!==A||e!==i;)(l=2*a)>-o&&(a-=o,t+=n),l<s&&(a+=s,e+=r);return u}e.backtrace=A,e.biBacktrace=function(t,e){var i=A(t),n=A(e);return i.concat(n.reverse())},e.pathLength=function(t){var e,A,i,n,r,s=0;for(e=1;e<t.length;++e)A=t[e-1],i=t[e],n=A[0]-i[0],r=A[1]-i[1],s+=Math.sqrt(n*n+r*r);return s},e.interpolate=i,e.expandPath=function(t){var e,A,n,r,s,o,a=[],l=t.length;if(l<2)return a;for(s=0;s<l-1;++s)for(e=t[s],A=t[s+1],r=(n=i(e[0],e[1],A[0],A[1])).length,o=0;o<r-1;++o)a.push(n[o]);return a.push(t[l-1]),a},e.smoothenPath=function(t,e){var A,n,r,s,o,a,l,h,u,p=e.length,c=e[0][0],f=e[0][1],d=e[p-1][0],g=e[p-1][1];for(r=[[A=c,n=f]],s=2;s<p;++s){for(l=i(A,n,(a=e[s])[0],a[1]),u=!1,o=1;o<l.length;++o)if(h=l[o],!t.isWalkableAt(h[0],h[1])){u=!0;break}u&&(lastValidCoord=e[s-1],r.push(lastValidCoord),A=lastValidCoord[0],n=lastValidCoord[1])}return r.push([d,g]),r},e.compressPath=function(t){if(t.length<3)return t;var e,A,i,n,r,s,o=[],a=t[0][0],l=t[0][1],h=t[1][0],u=t[1][1],p=h-a,c=u-l;for(p/=r=Math.sqrt(p*p+c*c),c/=r,o.push([a,l]),s=2;s<t.length;s++)e=h,A=u,i=p,n=c,p=(h=t[s][0])-e,c=(u=t[s][1])-A,c/=r=Math.sqrt(p*p+c*c),(p/=r)===i&&c===n||o.push([e,A]);return o.push([h,u]),o}},function(t,e){t.exports={manhattan:function(t,e){return t+e},euclidean:function(t,e){return Math.sqrt(t*t+e*e)},octile:function(t,e){var A=Math.SQRT2-1;return t<e?A*t+e:A*e+t},chebyshev:function(t,e){return Math.max(t,e)}}},function(t,e,A){var i=A(4),n=A(1),r=A(2);A(0);function s(t){t=t||{},this.heuristic=t.heuristic||r.manhattan,this.trackJumpRecursion=t.trackJumpRecursion||!1}s.prototype.findPath=function(t,e,A,r,s){var o,a=this.openList=new i(function(t,e){return t.f-e.f}),l=this.startNode=s.getNodeAt(t,e),h=this.endNode=s.getNodeAt(A,r);for(this.grid=s,l.g=0,l.f=0,a.push(l),l.opened=!0;!a.empty();){if((o=a.pop()).closed=!0,o===h)return n.expandPath(n.backtrace(h));this._identifySuccessors(o)}return[]},s.prototype._identifySuccessors=function(t){var e,A,i,n,s,o,a,l,h,u,p=this.grid,c=this.heuristic,f=this.openList,d=this.endNode.x,g=this.endNode.y,m=t.x,y=t.y,b=Math.abs;Math.max;for(n=0,s=(e=this._findNeighbors(t)).length;n<s;++n)if(A=e[n],i=this._jump(A[0],A[1],m,y)){if(o=i[0],a=i[1],(u=p.getNodeAt(o,a)).closed)continue;l=r.octile(b(o-m),b(a-y)),h=t.g+l,(!u.opened||h<u.g)&&(u.g=h,u.h=u.h||c(b(o-d),b(a-g)),u.f=u.g+u.h,u.parent=t,u.opened?f.updateItem(u):(f.push(u),u.opened=!0))}},t.exports=s},function(t,e,A){t.exports=A(24)},function(t,e,A){var i=A(4),n=A(1),r=A(2),s=A(0);function o(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}o.prototype.findPath=function(t,e,A,r,s){var o,a,l,h,u,p,c,f,d=function(t,e){return t.f-e.f},g=new i(d),m=new i(d),y=s.getNodeAt(t,e),b=s.getNodeAt(A,r),v=this.heuristic,k=this.diagonalMovement,w=this.weight,x=Math.abs,W=Math.SQRT2;for(y.g=0,y.f=0,g.push(y),y.opened=1,b.g=0,b.f=0,m.push(b),b.opened=2;!g.empty()&&!m.empty();){for((o=g.pop()).closed=!0,h=0,u=(a=s.getNeighbors(o,k)).length;h<u;++h)if(!(l=a[h]).closed){if(2===l.opened)return n.biBacktrace(o,l);p=l.x,c=l.y,f=o.g+(p-o.x==0||c-o.y==0?1:W),(!l.opened||f<l.g)&&(l.g=f,l.h=l.h||w*v(x(p-A),x(c-r)),l.f=l.g+l.h,l.parent=o,l.opened?g.updateItem(l):(g.push(l),l.opened=1))}for((o=m.pop()).closed=!0,h=0,u=(a=s.getNeighbors(o,k)).length;h<u;++h)if(!(l=a[h]).closed){if(1===l.opened)return n.biBacktrace(l,o);p=l.x,c=l.y,f=o.g+(p-o.x==0||c-o.y==0?1:W),(!l.opened||f<l.g)&&(l.g=f,l.h=l.h||w*v(x(p-t),x(c-e)),l.f=l.g+l.h,l.parent=o,l.opened?m.updateItem(l):(m.push(l),l.opened=2))}}return[]},t.exports=o},function(t,e,A){var i=A(4),n=A(1),r=A(2),s=A(0);function o(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.heuristic=t.heuristic||r.manhattan,this.weight=t.weight||1,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=s.OnlyWhenNoObstacles:this.diagonalMovement=s.IfAtMostOneObstacle:this.diagonalMovement=s.Never),this.diagonalMovement===s.Never?this.heuristic=t.heuristic||r.manhattan:this.heuristic=t.heuristic||r.octile}o.prototype.findPath=function(t,e,A,r,s){var o,a,l,h,u,p,c,f,d=new i(function(t,e){return t.f-e.f}),g=s.getNodeAt(t,e),m=s.getNodeAt(A,r),y=this.heuristic,b=this.diagonalMovement,v=this.weight,k=Math.abs,w=Math.SQRT2;for(g.g=0,g.f=0,d.push(g),g.opened=!0;!d.empty();){if((o=d.pop()).closed=!0,o===m)return n.backtrace(m);for(h=0,u=(a=s.getNeighbors(o,b)).length;h<u;++h)(l=a[h]).closed||(p=l.x,c=l.y,f=o.g+(p-o.x==0||c-o.y==0?1:w),(!l.opened||f<l.g)&&(l.g=f,l.h=l.h||v*y(k(p-A),k(c-r)),l.f=l.g+l.h,l.parent=o,l.opened?d.updateItem(l):(d.push(l),l.opened=!0)))}return[]},t.exports=o},function(t,e){t.exports=function(t,e,A){this.x=t,this.y=e,this.walkable=void 0===A||A}},function(t,e,A){t.exports=A(25)},function(t,e,A){"use strict";A.r(e);var i=function(){return function(t){var e=this;for(var A in this.imgs={ground:{path:"images/ground.png",element:null},player:{path:"images/player.png",element:null},space:{path:"images/space.png",element:null}},this.loadedImgs=0,this.numberOfImgs=Object.keys(this.imgs).length,this.imgs){var i=this.imgs[A];i.element=new Image,i.element.src=i.path,i.element.onload=function(){++e.loadedImgs===e.numberOfImgs&&t()}}}}(),n=A(8),r=function(){function t(t){this.frameCount=0,this.fps=10,this.imgs=t.assets.imgs,this.level=t.level,this.zeroOneMatrixOfLevel=this.toZeroOneMatrix(),this.player=t.player,this.canvas=document.getElementById("level"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=800,this.canvas.height=600,this.fpsInterval=1e3/this.fps,this.then=Date.now(),this.startTime=this.then,this.animate()}return t.prototype.animate=function(){this.now=Date.now(),this.elapsed=this.now-this.then,window.requestAnimationFrame(this.animate.bind(this)),this.elapsed>this.fpsInterval&&(this.then=this.now-this.elapsed%this.fpsInterval,this.movePlayerIfRequested(),this.drawLevel())},t.prototype.toZeroOneMatrix=function(){for(var t=this.level.length,e=this.level[0].length,A=new Array(t),i=0;i<t;i++){A[i]=new Array(e);for(var n=0;n<e;n++)A[i][n]="A"===this.level[i][n]?1:0}return A},t.prototype.movePlayerIfRequested=function(){if(this.player.requestedPosition){if(void 0===this.pathToRequestedPosition){var t=new n.DijkstraFinder,e=new n.Grid(this.zeroOneMatrixOfLevel);this.pathToRequestedPosition=t.findPath(this.player.currentPosition.x,this.player.currentPosition.y,this.player.requestedPosition.x,this.player.requestedPosition.y,e)}if(0===this.pathToRequestedPosition.length)return this.player.requestedPosition=void 0,void(this.pathToRequestedPosition=void 0);var A=this.pathToRequestedPosition.shift();this.replaceMatrixValuesForPlayer(A),this.player.currentPosition.x=A[0],this.player.currentPosition.y=A[1]}},t.prototype.replaceMatrixValuesForPlayer=function(t){var e=this.player.direction.charAt(1),A=parseInt(this.player.direction.charAt(2));t[1]===this.player.currentPosition.y?this.player.currentPosition.x-t[0]<0?this.player.direction="R"!==e||4===A?"PR1":"PR"+(A+1):this.player.direction="L"!==e||4===A?"PL1":"PL"+(A+1):t[0]===this.player.currentPosition.x&&(this.player.currentPosition.y-t[1]<0?this.player.direction="D"!==e||4===A?"PD1":"PD"+(A+1):this.player.direction="U"!==e||4===A?"PU1":"PU"+(A+1)),this.level[t[1]][t[0]]=this.player.direction,this.level[this.player.currentPosition.y][this.player.currentPosition.x]="0"},t.prototype.drawLevel=function(){var t=this;this.ctx.clearRect(0,0,800,600),this.level.forEach(function(e,A){e.forEach(function(e,i){var n=20*i,r=20*A;t.ctx.drawImage(t.imgs.ground.element,n,r),"A"!==e?("B"===e?t.ctx.drawImage(t.imgs.space.element,20,0,20,20,n,r,20,20):"C"===e?t.ctx.drawImage(t.imgs.space.element,40,0,20,20,n,r,20,20):"D"===e&&t.ctx.drawImage(t.imgs.space.element,60,0,20,20,n,r,20,20),"PD1"===e?t.ctx.drawImage(t.imgs.player.element,0,0,20,20,n,r,20,20):"PD2"===e?t.ctx.drawImage(t.imgs.player.element,20,0,20,20,n,r,20,20):"PD3"===e?t.ctx.drawImage(t.imgs.player.element,40,0,20,20,n,r,20,20):"PD4"===e?t.ctx.drawImage(t.imgs.player.element,60,0,20,20,n,r,20,20):"PL1"===e?t.ctx.drawImage(t.imgs.player.element,80,0,20,20,n,r,20,20):"PL2"===e?t.ctx.drawImage(t.imgs.player.element,100,0,20,20,n,r,20,20):"PL3"===e?t.ctx.drawImage(t.imgs.player.element,120,0,20,20,n,r,20,20):"PL4"===e?t.ctx.drawImage(t.imgs.player.element,140,0,20,20,n,r,20,20):"PR1"===e?t.ctx.drawImage(t.imgs.player.element,160,0,20,20,n,r,20,20):"PR2"===e?t.ctx.drawImage(t.imgs.player.element,180,0,20,20,n,r,20,20):"PR3"===e?t.ctx.drawImage(t.imgs.player.element,200,0,20,20,n,r,20,20):"PR4"===e?t.ctx.drawImage(t.imgs.player.element,220,0,20,20,n,r,20,20):"PU1"===e?t.ctx.drawImage(t.imgs.player.element,240,0,20,20,n,r,20,20):"PU2"===e?t.ctx.drawImage(t.imgs.player.element,260,0,20,20,n,r,20,20):"PU3"===e?t.ctx.drawImage(t.imgs.player.element,280,0,20,20,n,r,20,20):"PU4"===e&&t.ctx.drawImage(t.imgs.player.element,300,0,20,20,n,r,20,20)):t.ctx.drawImage(t.imgs.space.element,80,0,20,20,n,r,20,20)})})},t}(),s=function(){function t(t){this.currentPosition={x:0,y:0},this.direction="PR1",document.getElementById("level").addEventListener("click",this.move.bind(this))}return t.prototype.move=function(t){this.requestedPosition={x:Math.floor(t.offsetX/20),y:Math.floor(t.offsetY/20)}},t}(),o=[["PR1","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A"],["0","0","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","D","A"],["0","0","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","B","A","A","A","A","A","A","A","A","A","A","A","A","A","C","A","A"],["0","0","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A"],["0","0","A","A","A","A","A","A","A","A","A","A","A","A","A","C","A","A","A","A","A","A","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A"],["0","0","0","A","A","A","A","A","0","0","0","A","A","A","A","C","D","A","A","A","A","A","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A"],["0","0","0","0","0","A","0","0","0","0","0","0","0","0","A","A","A","A","A","A","A","A","0","0","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A"],["A","0","0","0","0","0","0","0","0","0","0","0","0","A","A","A","A","A","A","A","A","A","0","0","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A"],["A","A","0","0","0","0","0","0","0","0","0","0","0","0","A","A","A","A","A","A","0","0","0","0","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A"],["A","A","0","0","0","0","0","0","0","0","0","0","0","0","A","A","A","A","A","A","0","0","0","0","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A"],["A","A","0","0","0","0","0","0","A","A","A","0","0","0","A","A","0","A","A","A","0","0","0","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A"],["A","A","A","0","0","0","A","A","A","A","A","0","0","0","A","A","0","A","A","0","0","0","0","A","A","A","A","A","0","0","0","0","A","A","A","A","A","A","A","A"],["A","A","A","A","A","A","A","A","A","A","A","0","0","0","A","A","0","0","0","0","A","A","A","A","A","A","0","0","0","0","0","0","0","A","A","A","A","A","A","A"],["A","A","A","A","A","A","A","A","A","A","A","0","0","0","A","A","0","0","0","0","0","0","A","A","A","A","0","0","0","0","A","A","0","0","0","A","A","A","A","A"],["A","A","A","A","B","A","A","A","A","A","A","0","0","0","0","0","0","0","0","0","0","0","0","A","A","A","0","0","0","A","A","A","A","0","0","0","0","A","A","A"],["A","A","A","A","C","D","A","A","A","A","A","0","0","0","0","0","0","0","0","0","0","0","0","0","A","A","0","0","A","A","A","A","A","A","A","0","0","0","A","A"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","0","0","0","A","0","0","0","0","0","0","0","0","A","A","A","A","A","A","A","A","0","0","A","A"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","0","A","A","A","0","0","0","0","0","0","A","A","A","A","A","A","A","A","A","A","0","0","A","A"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","A","A","A","A","0","0","0","0","0","0","A","A","A","A","A","A","A","A","A","A","0","0","0","0"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","0","0","A","A","A","A","A","A","A","A","A","A","0","0","0","0"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","0","A","A","A","A","A","A","A","A","A","A","0","0","0","0"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A","A","0","0"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","D","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","B","D","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","C","A","A","A","A","A","A"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","B","A","A","A","A","A"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","0","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A"],["A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","0","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A"]];A.d(e,"Game",function(){return a});var a=function(){return function(){var t=this;this.assets=new i(function(){t.level=o,t.player=new s(t),t.engine=new r(t)})}}();new a},function(t,e,A){var i=A(3),n=A(0);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,A,i){var n=this.grid,r=t-A,s=e-i;if(!n.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(n.getNodeAt(t,e).tested=!0),n.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==s){if(n.isWalkableAt(t-r,e+s)&&!n.isWalkableAt(t-r,e)||n.isWalkableAt(t+r,e-s)&&!n.isWalkableAt(t,e-s))return[t,e];if(this._jump(t+r,e,t,e)||this._jump(t,e+s,t,e))return[t,e]}else if(0!==r){if(n.isWalkableAt(t+r,e+1)&&!n.isWalkableAt(t,e+1)||n.isWalkableAt(t+r,e-1)&&!n.isWalkableAt(t,e-1))return[t,e]}else if(n.isWalkableAt(t+1,e+s)&&!n.isWalkableAt(t+1,e)||n.isWalkableAt(t-1,e+s)&&!n.isWalkableAt(t-1,e))return[t,e];return n.isWalkableAt(t+r,e)||n.isWalkableAt(t,e+s)?this._jump(t+r,e+s,t,e):null},r.prototype._findNeighbors=function(t){var e,A,i,r,s,o,a,l,h=t.parent,u=t.x,p=t.y,c=this.grid,f=[];if(h)e=h.x,A=h.y,i=(u-e)/Math.max(Math.abs(u-e),1),r=(p-A)/Math.max(Math.abs(p-A),1),0!==i&&0!==r?(c.isWalkableAt(u,p+r)&&f.push([u,p+r]),c.isWalkableAt(u+i,p)&&f.push([u+i,p]),(c.isWalkableAt(u,p+r)||c.isWalkableAt(u+i,p))&&f.push([u+i,p+r]),!c.isWalkableAt(u-i,p)&&c.isWalkableAt(u,p+r)&&f.push([u-i,p+r]),!c.isWalkableAt(u,p-r)&&c.isWalkableAt(u+i,p)&&f.push([u+i,p-r])):0===i?c.isWalkableAt(u,p+r)&&(f.push([u,p+r]),c.isWalkableAt(u+1,p)||f.push([u+1,p+r]),c.isWalkableAt(u-1,p)||f.push([u-1,p+r])):c.isWalkableAt(u+i,p)&&(f.push([u+i,p]),c.isWalkableAt(u,p+1)||f.push([u+i,p+1]),c.isWalkableAt(u,p-1)||f.push([u+i,p-1]));else for(a=0,l=(s=c.getNeighbors(t,n.IfAtMostOneObstacle)).length;a<l;++a)o=s[a],f.push([o.x,o.y]);return f},t.exports=r},function(t,e,A){var i=A(3),n=A(0);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,A,i){var n=this.grid,r=t-A,s=e-i;if(!n.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(n.getNodeAt(t,e).tested=!0),n.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==s){if(this._jump(t+r,e,t,e)||this._jump(t,e+s,t,e))return[t,e]}else if(0!==r){if(n.isWalkableAt(t,e-1)&&!n.isWalkableAt(t-r,e-1)||n.isWalkableAt(t,e+1)&&!n.isWalkableAt(t-r,e+1))return[t,e]}else if(0!==s&&(n.isWalkableAt(t-1,e)&&!n.isWalkableAt(t-1,e-s)||n.isWalkableAt(t+1,e)&&!n.isWalkableAt(t+1,e-s)))return[t,e];return n.isWalkableAt(t+r,e)&&n.isWalkableAt(t,e+s)?this._jump(t+r,e+s,t,e):null},r.prototype._findNeighbors=function(t){var e,A,i,r,s,o,a,l,h,u=t.parent,p=t.x,c=t.y,f=this.grid,d=[];if(u){if(e=u.x,A=u.y,i=(p-e)/Math.max(Math.abs(p-e),1),r=(c-A)/Math.max(Math.abs(c-A),1),0!==i&&0!==r)f.isWalkableAt(p,c+r)&&d.push([p,c+r]),f.isWalkableAt(p+i,c)&&d.push([p+i,c]),f.isWalkableAt(p,c+r)&&f.isWalkableAt(p+i,c)&&d.push([p+i,c+r]);else if(0!==i){h=f.isWalkableAt(p+i,c);var g=f.isWalkableAt(p,c+1),m=f.isWalkableAt(p,c-1);h&&(d.push([p+i,c]),g&&d.push([p+i,c+1]),m&&d.push([p+i,c-1])),g&&d.push([p,c+1]),m&&d.push([p,c-1])}else if(0!==r){h=f.isWalkableAt(p,c+r);var y=f.isWalkableAt(p+1,c),b=f.isWalkableAt(p-1,c);h&&(d.push([p,c+r]),y&&d.push([p+1,c+r]),b&&d.push([p-1,c+r])),y&&d.push([p+1,c]),b&&d.push([p-1,c])}}else for(a=0,l=(s=f.getNeighbors(t,n.OnlyWhenNoObstacles)).length;a<l;++a)o=s[a],d.push([o.x,o.y]);return d},t.exports=r},function(t,e,A){var i=A(3),n=A(0);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,A,i){var n=this.grid,r=t-A,s=e-i;if(!n.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(n.getNodeAt(t,e).tested=!0),n.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r&&0!==s){if(n.isWalkableAt(t-r,e+s)&&!n.isWalkableAt(t-r,e)||n.isWalkableAt(t+r,e-s)&&!n.isWalkableAt(t,e-s))return[t,e];if(this._jump(t+r,e,t,e)||this._jump(t,e+s,t,e))return[t,e]}else if(0!==r){if(n.isWalkableAt(t+r,e+1)&&!n.isWalkableAt(t,e+1)||n.isWalkableAt(t+r,e-1)&&!n.isWalkableAt(t,e-1))return[t,e]}else if(n.isWalkableAt(t+1,e+s)&&!n.isWalkableAt(t+1,e)||n.isWalkableAt(t-1,e+s)&&!n.isWalkableAt(t-1,e))return[t,e];return this._jump(t+r,e+s,t,e)},r.prototype._findNeighbors=function(t){var e,A,i,r,s,o,a,l,h=t.parent,u=t.x,p=t.y,c=this.grid,f=[];if(h)e=h.x,A=h.y,i=(u-e)/Math.max(Math.abs(u-e),1),r=(p-A)/Math.max(Math.abs(p-A),1),0!==i&&0!==r?(c.isWalkableAt(u,p+r)&&f.push([u,p+r]),c.isWalkableAt(u+i,p)&&f.push([u+i,p]),c.isWalkableAt(u+i,p+r)&&f.push([u+i,p+r]),c.isWalkableAt(u-i,p)||f.push([u-i,p+r]),c.isWalkableAt(u,p-r)||f.push([u+i,p-r])):0===i?(c.isWalkableAt(u,p+r)&&f.push([u,p+r]),c.isWalkableAt(u+1,p)||f.push([u+1,p+r]),c.isWalkableAt(u-1,p)||f.push([u-1,p+r])):(c.isWalkableAt(u+i,p)&&f.push([u+i,p]),c.isWalkableAt(u,p+1)||f.push([u+i,p+1]),c.isWalkableAt(u,p-1)||f.push([u+i,p-1]));else for(a=0,l=(s=c.getNeighbors(t,n.Always)).length;a<l;++a)o=s[a],f.push([o.x,o.y]);return f},t.exports=r},function(t,e,A){var i=A(3),n=A(0);function r(t){i.call(this,t)}r.prototype=new i,r.prototype.constructor=r,r.prototype._jump=function(t,e,A,i){var n=this.grid,r=t-A,s=e-i;if(!n.isWalkableAt(t,e))return null;if(!0===this.trackJumpRecursion&&(n.getNodeAt(t,e).tested=!0),n.getNodeAt(t,e)===this.endNode)return[t,e];if(0!==r){if(n.isWalkableAt(t,e-1)&&!n.isWalkableAt(t-r,e-1)||n.isWalkableAt(t,e+1)&&!n.isWalkableAt(t-r,e+1))return[t,e]}else{if(0===s)throw new Error("Only horizontal and vertical movements are allowed");if(n.isWalkableAt(t-1,e)&&!n.isWalkableAt(t-1,e-s)||n.isWalkableAt(t+1,e)&&!n.isWalkableAt(t+1,e-s))return[t,e];if(this._jump(t+1,e,t,e)||this._jump(t-1,e,t,e))return[t,e]}return this._jump(t+r,e+s,t,e)},r.prototype._findNeighbors=function(t){var e,A,i,r,s,o,a,l,h=t.parent,u=t.x,p=t.y,c=this.grid,f=[];if(h)e=h.x,A=h.y,i=(u-e)/Math.max(Math.abs(u-e),1),r=(p-A)/Math.max(Math.abs(p-A),1),0!==i?(c.isWalkableAt(u,p-1)&&f.push([u,p-1]),c.isWalkableAt(u,p+1)&&f.push([u,p+1]),c.isWalkableAt(u+i,p)&&f.push([u+i,p])):0!==r&&(c.isWalkableAt(u-1,p)&&f.push([u-1,p]),c.isWalkableAt(u+1,p)&&f.push([u+1,p]),c.isWalkableAt(u,p+r)&&f.push([u,p+r]));else for(a=0,l=(s=c.getNeighbors(t,n.Never)).length;a<l;++a)o=s[a],f.push([o.x,o.y]);return f},t.exports=r},function(t,e,A){var i=A(0),n=A(13),r=A(12),s=A(11),o=A(10);t.exports=function(t){return(t=t||{}).diagonalMovement===i.Never?new n(t):t.diagonalMovement===i.Always?new r(t):t.diagonalMovement===i.OnlyWhenNoObstacles?new s(t):new o(t)}},function(t,e,A){A(1);var i=A(2),n=A(7),r=A(0);function s(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.heuristic=t.heuristic||i.manhattan,this.weight=t.weight||1,this.trackRecursion=t.trackRecursion||!1,this.timeLimit=t.timeLimit||1/0,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=r.OnlyWhenNoObstacles:this.diagonalMovement=r.IfAtMostOneObstacle:this.diagonalMovement=r.Never),this.diagonalMovement===r.Never?this.heuristic=t.heuristic||i.manhattan:this.heuristic=t.heuristic||i.octile}s.prototype.findPath=function(t,e,A,i,r){var s,o,a,l=(new Date).getTime(),h=function(t,e){return this.heuristic(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}.bind(this),u=function(t,e,A,i,s){if(0,this.timeLimit>0&&(new Date).getTime()-l>1e3*this.timeLimit)return 1/0;var o,a,p,f,d=e+h(t,c)*this.weight;if(d>A)return d;if(t==c)return i[s]=[t.x,t.y],t;var g,m,y=r.getNeighbors(t,this.diagonalMovement);for(p=0,o=1/0;f=y[p];++p){if(this.trackRecursion&&(f.retainCount=f.retainCount+1||1,!0!==f.tested&&(f.tested=!0)),(a=u(f,e+(m=f,(g=t).x===m.x||g.y===m.y?1:Math.SQRT2),A,i,s+1))instanceof n)return i[s]=[t.x,t.y],a;this.trackRecursion&&0==--f.retainCount&&(f.tested=!1),a<o&&(o=a)}return o}.bind(this),p=r.getNodeAt(t,e),c=r.getNodeAt(A,i),f=h(p,c);for(s=0;;++s){if((a=u(p,0,f,o=[],0))===1/0)return[];if(a instanceof n)return o;f=a}return[]},t.exports=s},function(t,e,A){var i=A(5);function n(t){i.call(this,t),this.heuristic=function(t,e){return 0}}n.prototype=new i,n.prototype.constructor=n,t.exports=n},function(t,e,A){var i=A(1),n=A(0);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=n.OnlyWhenNoObstacles:this.diagonalMovement=n.IfAtMostOneObstacle:this.diagonalMovement=n.Never)}r.prototype.findPath=function(t,e,A,n,r){var s,o,a,l,h,u=r.getNodeAt(t,e),p=r.getNodeAt(A,n),c=[],f=[],d=this.diagonalMovement;for(c.push(u),u.opened=!0,u.by=0,f.push(p),p.opened=!0,p.by=1;c.length&&f.length;){for((a=c.shift()).closed=!0,l=0,h=(s=r.getNeighbors(a,d)).length;l<h;++l)if(!(o=s[l]).closed)if(o.opened){if(1===o.by)return i.biBacktrace(a,o)}else c.push(o),o.parent=a,o.opened=!0,o.by=0;for((a=f.shift()).closed=!0,l=0,h=(s=r.getNeighbors(a,d)).length;l<h;++l)if(!(o=s[l]).closed)if(o.opened){if(0===o.by)return i.biBacktrace(o,a)}else f.push(o),o.parent=a,o.opened=!0,o.by=1}return[]},t.exports=r},function(t,e,A){var i=A(5);function n(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,A){return 1e6*e(t,A)}}n.prototype=new i,n.prototype.constructor=n,t.exports=n},function(t,e,A){var i=A(6);function n(t){i.call(this,t),this.heuristic=function(t,e){return 0}}n.prototype=new i,n.prototype.constructor=n,t.exports=n},function(t,e,A){var i=A(1),n=A(0);function r(t){t=t||{},this.allowDiagonal=t.allowDiagonal,this.dontCrossCorners=t.dontCrossCorners,this.diagonalMovement=t.diagonalMovement,this.diagonalMovement||(this.allowDiagonal?this.dontCrossCorners?this.diagonalMovement=n.OnlyWhenNoObstacles:this.diagonalMovement=n.IfAtMostOneObstacle:this.diagonalMovement=n.Never)}r.prototype.findPath=function(t,e,A,n,r){var s,o,a,l,h,u=[],p=this.diagonalMovement,c=r.getNodeAt(t,e),f=r.getNodeAt(A,n);for(u.push(c),c.opened=!0;u.length;){if((a=u.shift()).closed=!0,a===f)return i.backtrace(f);for(l=0,h=(s=r.getNeighbors(a,p)).length;l<h;++l)(o=s[l]).closed||o.opened||(u.push(o),o.opened=!0,o.parent=a)}return[]},t.exports=r},function(t,e,A){var i=A(6);function n(t){i.call(this,t);var e=this.heuristic;this.heuristic=function(t,A){return 1e6*e(t,A)}}n.prototype=new i,n.prototype.constructor=n,t.exports=n},function(t,e,A){var i=A(7),n=A(0);function r(t,e,A){var i;"object"!=typeof t?i=t:(e=t.length,i=t[0].length,A=t),this.width=i,this.height=e,this.nodes=this._buildNodes(i,e,A)}r.prototype._buildNodes=function(t,e,A){var n,r,s=new Array(e);for(n=0;n<e;++n)for(s[n]=new Array(t),r=0;r<t;++r)s[n][r]=new i(r,n);if(void 0===A)return s;if(A.length!==e||A[0].length!==t)throw new Error("Matrix size does not fit");for(n=0;n<e;++n)for(r=0;r<t;++r)A[n][r]&&(s[n][r].walkable=!1);return s},r.prototype.getNodeAt=function(t,e){return this.nodes[e][t]},r.prototype.isWalkableAt=function(t,e){return this.isInside(t,e)&&this.nodes[e][t].walkable},r.prototype.isInside=function(t,e){return t>=0&&t<this.width&&e>=0&&e<this.height},r.prototype.setWalkableAt=function(t,e,A){this.nodes[e][t].walkable=A},r.prototype.getNeighbors=function(t,e){var A=t.x,i=t.y,r=[],s=!1,o=!1,a=!1,l=!1,h=!1,u=!1,p=!1,c=!1,f=this.nodes;if(this.isWalkableAt(A,i-1)&&(r.push(f[i-1][A]),s=!0),this.isWalkableAt(A+1,i)&&(r.push(f[i][A+1]),a=!0),this.isWalkableAt(A,i+1)&&(r.push(f[i+1][A]),h=!0),this.isWalkableAt(A-1,i)&&(r.push(f[i][A-1]),p=!0),e===n.Never)return r;if(e===n.OnlyWhenNoObstacles)o=p&&s,l=s&&a,u=a&&h,c=h&&p;else if(e===n.IfAtMostOneObstacle)o=p||s,l=s||a,u=a||h,c=h||p;else{if(e!==n.Always)throw new Error("Incorrect value of diagonalMovement");o=!0,l=!0,u=!0,c=!0}return o&&this.isWalkableAt(A-1,i-1)&&r.push(f[i-1][A-1]),l&&this.isWalkableAt(A+1,i-1)&&r.push(f[i-1][A+1]),u&&this.isWalkableAt(A+1,i+1)&&r.push(f[i+1][A+1]),c&&this.isWalkableAt(A-1,i+1)&&r.push(f[i+1][A-1]),r},r.prototype.clone=function(){var t,e,A=this.width,n=this.height,s=this.nodes,o=new r(A,n),a=new Array(n);for(t=0;t<n;++t)for(a[t]=new Array(A),e=0;e<A;++e)a[t][e]=new i(e,t,s[t][e].walkable);return o.nodes=a,o},t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,A){(function(t){(function(){var e,A,i,n,r,s,o,a,l,h,u,p,c,f,d;i=Math.floor,h=Math.min,A=function(t,e){return t<e?-1:t>e?1:0},l=function(t,e,n,r,s){var o;if(null==n&&(n=0),null==s&&(s=A),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);n<r;)s(e,t[o=i((n+r)/2)])<0?r=o:n=o+1;return[].splice.apply(t,[n,n-n].concat(e)),e},s=function(t,e,i){return null==i&&(i=A),t.push(e),f(t,0,t.length-1,i)},r=function(t,e){var i,n;return null==e&&(e=A),i=t.pop(),t.length?(n=t[0],t[0]=i,d(t,0,e)):n=i,n},a=function(t,e,i){var n;return null==i&&(i=A),n=t[0],t[0]=e,d(t,0,i),n},o=function(t,e,i){var n;return null==i&&(i=A),t.length&&i(t[0],e)<0&&(e=(n=[t[0],e])[0],t[0]=n[1],d(t,0,i)),e},n=function(t,e){var n,r,s,o,a,l;for(null==e&&(e=A),a=[],r=0,s=(o=function(){l=[];for(var e=0,A=i(t.length/2);0<=A?e<A:e>A;0<=A?e++:e--)l.push(e);return l}.apply(this).reverse()).length;r<s;r++)n=o[r],a.push(d(t,n,e));return a},c=function(t,e,i){var n;if(null==i&&(i=A),-1!==(n=t.indexOf(e)))return f(t,0,n,i),d(t,n,i)},u=function(t,e,i){var r,s,a,l,h;if(null==i&&(i=A),!(s=t.slice(0,e)).length)return s;for(n(s,i),a=0,l=(h=t.slice(e)).length;a<l;a++)r=h[a],o(s,r,i);return s.sort(i).reverse()},p=function(t,e,i){var s,o,a,u,p,c,f,d,g;if(null==i&&(i=A),10*e<=t.length){if(!(a=t.slice(0,e).sort(i)).length)return a;for(o=a[a.length-1],u=0,c=(f=t.slice(e)).length;u<c;u++)i(s=f[u],o)<0&&(l(a,s,0,null,i),a.pop(),o=a[a.length-1]);return a}for(n(t,i),g=[],p=0,d=h(e,t.length);0<=d?p<d:p>d;0<=d?++p:--p)g.push(r(t,i));return g},f=function(t,e,i,n){var r,s,o;for(null==n&&(n=A),r=t[i];i>e&&n(r,s=t[o=i-1>>1])<0;)t[i]=s,i=o;return t[i]=r},d=function(t,e,i){var n,r,s,o,a;for(null==i&&(i=A),r=t.length,a=e,s=t[e],n=2*e+1;n<r;)(o=n+1)<r&&!(i(t[n],t[o])<0)&&(n=o),t[e]=t[n],n=2*(e=n)+1;return t[e]=s,f(t,a,e,i)},e=function(){function t(t){this.cmp=null!=t?t:A,this.nodes=[]}return t.push=s,t.pop=r,t.replace=a,t.pushpop=o,t.heapify=n,t.updateItem=c,t.nlargest=u,t.nsmallest=p,t.prototype.push=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pop=function(){return r(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return a(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return o(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return n(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return c(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),(void 0!==t&&null!==t?t.exports:void 0)?t.exports=e:window.Heap=e}).call(this)}).call(this,A(23)(t))},function(t,e,A){t.exports={Heap:A(4),Node:A(7),Grid:A(22),Util:A(1),DiagonalMovement:A(0),Heuristic:A(2),AStarFinder:A(6),BestFirstFinder:A(21),BreadthFirstFinder:A(20),DijkstraFinder:A(19),BiAStarFinder:A(5),BiBestFirstFinder:A(18),BiBreadthFirstFinder:A(17),BiDijkstraFinder:A(16),IDAStarFinder:A(15),JumpPointFinder:A(14)}}]);